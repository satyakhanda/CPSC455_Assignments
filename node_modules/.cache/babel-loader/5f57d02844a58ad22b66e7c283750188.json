{"ast":null,"code":"var _jsxFileName = \"/Users/satyakhanda/Downloads/CPSC455_Assignments-Assignment5/assignment2/frontend/src/components/Cardlist.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { withRouter } from \"react-router\";\nimport Card from \"./Card\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Cardlist = props => {\n  _s();\n\n  const [preLoaded, setPreLoaded] = useState([]);\n  var [artistName, setArtistName] = useState(\"\");\n  var [pieceName, setpieceName] = useState(\"\");\n  var [link, setlink] = useState(\"\");\n  useEffect(() => {\n    fetch(\"/api/tradingcards\").then(res => res.json()).then(cards => setPreLoaded(cards));\n  }, []);\n\n  var createCard = () => {\n    console.log(preLoaded);\n\n    if (preLoaded.length >= 1) {\n      return preLoaded.map(card => {\n        return /*#__PURE__*/_jsxDEV(Card, {\n          pieceName: card.pieceName,\n          pieceLink: card.pieceLink,\n          artistName: card.artistName,\n          id: card.id,\n          delete: e => deleteCard(e.target.id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 11\n        }, this);\n      });\n    }\n  };\n\n  var deleteCard = cardId => {\n    console.log(\"DELETE CARD CALLED\");\n    console.log(cardId);\n    axios.delete(\"/api/tradingcards\", {\n      data: {\n        id: cardId\n      }\n    }).then(response => {\n      console.log(response);\n    });\n  };\n\n  var deleteAll = () => {\n    axios.delete(\"/api/tradingcards/all\").then(response => {\n      console.log(response);\n    });\n  };\n\n  var clearInputs = () => {\n    document.getElementById(\"Form-Elements\").reset();\n  };\n\n  var onClickEvents = () => {\n    const newCard = {\n      artistName: artistName,\n      pieceName: pieceName,\n      pieceLink: link\n    };\n    axios.post(\"/api/tradingcards\", newCard).then(response => {\n      console.log(response);\n      setPreLoaded(response);\n    }).catch(error => {\n      console.log(error);\n    });\n    clearInputs(); // fetch(\"/api/tradingcards\")\n    //   .then((res) => res.json())\n    //   .then((cards) => setPreLoaded(cards));\n  };\n\n  var loadInitial = () => {\n    fetch(\"/api/tradingcards/initialCards\").then(res => res.json());\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"center\", {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          id: \"Form-Elements\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Artist Name: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"name\",\n            type: \"text\",\n            onChange: e => setArtistName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Name of Piece: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"piece\",\n            type: \"text\",\n            onChange: e => setpieceName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"URL: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"url\",\n            type: \"text\",\n            onChange: e => setlink(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"button\",\n            value: \"Submit\",\n            onClick: () => onClickEvents()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"button\",\n            value: \"Clear\",\n            onClick: () => clearInputs()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"button\",\n            value: \"Delete All\",\n            onClick: () => deleteAll()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"button\",\n            value: \"Load Inital Cards\",\n            onClick: () => loadInitial()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: createCard()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Cardlist, \"PHa8brKDHjFlaeJsQd0HgeGcnds=\");\n\n_c = Cardlist;\nexport default _c2 = withRouter(Cardlist);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Cardlist\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/satyakhanda/Downloads/CPSC455_Assignments-Assignment5/assignment2/frontend/src/components/Cardlist.js"],"names":["axios","React","Fragment","useEffect","useState","withRouter","Card","Cardlist","props","preLoaded","setPreLoaded","artistName","setArtistName","pieceName","setpieceName","link","setlink","fetch","then","res","json","cards","createCard","console","log","length","map","card","pieceLink","id","e","deleteCard","target","cardId","delete","data","response","deleteAll","clearInputs","document","getElementById","reset","onClickEvents","newCard","post","catch","error","loadInitial","value"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { withRouter } from \"react-router\";\nimport Card from \"./Card\";\n\nconst Cardlist = (props) => {\n  const [preLoaded, setPreLoaded] = useState([]);\n  var [artistName, setArtistName] = useState(\"\");\n  var [pieceName, setpieceName] = useState(\"\");\n  var [link, setlink] = useState(\"\");\n\n  useEffect(() => {\n    fetch(\"/api/tradingcards\")\n      .then((res) => res.json())\n      .then((cards) => setPreLoaded(cards));\n  }, []);\n\n  var createCard = () => {\n    console.log(preLoaded)\n    if (preLoaded.length >= 1) {\n      return preLoaded.map((card) => {\n        return (\n          <Card\n            pieceName={card.pieceName}\n            pieceLink={card.pieceLink}\n            artistName={card.artistName}\n            id={card.id}\n            delete={(e) => deleteCard(e.target.id)}\n          />\n        );\n      });\n    }\n  };\n\n  var deleteCard = (cardId) => {\n    console.log(\"DELETE CARD CALLED\")\n    console.log(cardId);\n    axios\n      .delete(\"/api/tradingcards\", { data: { id: cardId } })\n      .then((response) => {\n        console.log(response);\n      });\n  };\n\n  var deleteAll = () => {\n    axios.delete(\"/api/tradingcards/all\").then((response) => {\n      console.log(response);\n    });\n  };\n\n  var clearInputs = () => {\n    document.getElementById(\"Form-Elements\").reset();\n  };\n\n  var onClickEvents = () => {\n    const newCard = {\n      artistName: artistName,\n      pieceName: pieceName,\n      pieceLink: link,\n    };\n    axios\n      .post(\"/api/tradingcards\", newCard)\n      .then((response) => {\n        console.log(response);\n        setPreLoaded(response);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    clearInputs();\n    // fetch(\"/api/tradingcards\")\n    //   .then((res) => res.json())\n    //   .then((cards) => setPreLoaded(cards));\n  };\n\n  var loadInitial = () => {\n    fetch(\"/api/tradingcards/initialCards\").then((res) => res.json());\n  };\n\n  return (\n    <Fragment>\n      <div>\n        <center>\n          <form id=\"Form-Elements\">\n            <label>Artist Name: </label>\n            <input\n              id=\"name\"\n              type=\"text\"\n              onChange={(e) => setArtistName(e.target.value)}\n            />\n            <br />\n            <br />\n            <label>Name of Piece: </label>\n            <input\n              id=\"piece\"\n              type=\"text\"\n              onChange={(e) => setpieceName(e.target.value)}\n            />\n            <br />\n            <br />\n            <label>URL: </label>\n            <input\n              id=\"url\"\n              type=\"text\"\n              onChange={(e) => setlink(e.target.value)}\n            />\n            <br />\n            <br />\n            <input\n              type=\"button\"\n              value=\"Submit\"\n              onClick={() => onClickEvents()}\n            />\n            <input type=\"button\" value=\"Clear\" onClick={() => clearInputs()} />\n            <input\n              type=\"button\"\n              value=\"Delete All\"\n              onClick={() => deleteAll()}\n            />\n            <input\n              type=\"button\"\n              value=\"Load Inital Cards\"\n              onClick={() => loadInitial()}\n            />\n          </form>\n        </center>\n      </div>\n      {/* <div className=\"parentDiv\">\n      {preLoaded.map((card, index) => <div key={index}>{card.pieceName}</div>)}\n      </div> */}\n      <div>\n        <ul>{createCard()}</ul>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default withRouter(Cardlist);\n"]},"metadata":{},"sourceType":"module"}